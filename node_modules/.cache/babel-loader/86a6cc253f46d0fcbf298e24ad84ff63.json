{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _corejs2BuiltIns = _interopRequireDefault(require(\"@babel/compat-data/corejs2-built-ins\"));\n\nvar _helperCompilationTargets = require(\"@babel/helper-compilation-targets\");\n\nvar _getPlatformSpecificDefault = _interopRequireDefault(require(\"./get-platform-specific-default\"));\n\nvar _utils = require(\"../../utils\");\n\nvar _debug = require(\"../../debug\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _default(_, {\n  include,\n  exclude,\n  polyfillTargets,\n  regenerator,\n  debug\n}) {\n  const polyfills = (0, _helperCompilationTargets.filterItems)(_corejs2BuiltIns.default, include, exclude, polyfillTargets, (0, _getPlatformSpecificDefault.default)(polyfillTargets));\n  const isPolyfillImport = {\n    ImportDeclaration(path) {\n      if ((0, _utils.isPolyfillSource)((0, _utils.getImportSource)(path))) {\n        this.replaceBySeparateModulesImport(path);\n      }\n    },\n\n    Program(path) {\n      path.get(\"body\").forEach(bodyPath => {\n        if ((0, _utils.isPolyfillSource)((0, _utils.getRequireSource)(bodyPath))) {\n          this.replaceBySeparateModulesImport(bodyPath);\n        }\n      });\n    }\n\n  };\n  return {\n    name: \"corejs2-entry\",\n    visitor: isPolyfillImport,\n\n    pre() {\n      this.importPolyfillIncluded = false;\n\n      this.replaceBySeparateModulesImport = function (path) {\n        this.importPolyfillIncluded = true;\n\n        if (regenerator) {\n          (0, _utils.createImport)(path, \"regenerator-runtime\");\n        }\n\n        const modules = Array.from(polyfills).reverse();\n\n        for (const module of modules) {\n          (0, _utils.createImport)(path, module);\n        }\n\n        path.remove();\n      };\n    },\n\n    post() {\n      if (debug) {\n        (0, _debug.logEntryPolyfills)(\"@babel/polyfill\", this.importPolyfillIncluded, polyfills, this.file.opts.filename, polyfillTargets, _corejs2BuiltIns.default);\n      }\n    }\n\n  };\n}","map":{"version":3,"sources":["/home/agatha/open/node_modules/@babel/preset-env/lib/polyfills/corejs2/entry-plugin.js"],"names":["Object","defineProperty","exports","value","default","_default","_corejs2BuiltIns","_interopRequireDefault","require","_helperCompilationTargets","_getPlatformSpecificDefault","_utils","_debug","obj","__esModule","_","include","exclude","polyfillTargets","regenerator","debug","polyfills","filterItems","isPolyfillImport","ImportDeclaration","path","isPolyfillSource","getImportSource","replaceBySeparateModulesImport","Program","get","forEach","bodyPath","getRequireSource","name","visitor","pre","importPolyfillIncluded","createImport","modules","Array","from","reverse","module","remove","post","logEntryPolyfills","file","opts","filename"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _corejs2BuiltIns = _interopRequireDefault(require(\"@babel/compat-data/corejs2-built-ins\"));\n\nvar _helperCompilationTargets = require(\"@babel/helper-compilation-targets\");\n\nvar _getPlatformSpecificDefault = _interopRequireDefault(require(\"./get-platform-specific-default\"));\n\nvar _utils = require(\"../../utils\");\n\nvar _debug = require(\"../../debug\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _default(_, {\n  include,\n  exclude,\n  polyfillTargets,\n  regenerator,\n  debug\n}) {\n  const polyfills = (0, _helperCompilationTargets.filterItems)(_corejs2BuiltIns.default, include, exclude, polyfillTargets, (0, _getPlatformSpecificDefault.default)(polyfillTargets));\n  const isPolyfillImport = {\n    ImportDeclaration(path) {\n      if ((0, _utils.isPolyfillSource)((0, _utils.getImportSource)(path))) {\n        this.replaceBySeparateModulesImport(path);\n      }\n    },\n\n    Program(path) {\n      path.get(\"body\").forEach(bodyPath => {\n        if ((0, _utils.isPolyfillSource)((0, _utils.getRequireSource)(bodyPath))) {\n          this.replaceBySeparateModulesImport(bodyPath);\n        }\n      });\n    }\n\n  };\n  return {\n    name: \"corejs2-entry\",\n    visitor: isPolyfillImport,\n\n    pre() {\n      this.importPolyfillIncluded = false;\n\n      this.replaceBySeparateModulesImport = function (path) {\n        this.importPolyfillIncluded = true;\n\n        if (regenerator) {\n          (0, _utils.createImport)(path, \"regenerator-runtime\");\n        }\n\n        const modules = Array.from(polyfills).reverse();\n\n        for (const module of modules) {\n          (0, _utils.createImport)(path, module);\n        }\n\n        path.remove();\n      };\n    },\n\n    post() {\n      if (debug) {\n        (0, _debug.logEntryPolyfills)(\"@babel/polyfill\", this.importPolyfillIncluded, polyfills, this.file.opts.filename, polyfillTargets, _corejs2BuiltIns.default);\n      }\n    }\n\n  };\n}"]},"metadata":{},"sourceType":"script"}