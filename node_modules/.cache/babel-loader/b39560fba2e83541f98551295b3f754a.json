{"ast":null,"code":"'use strict';\n\nvar _createForOfIteratorHelper = require(\"/home/agatha/open/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar internals = {\n  suspectRx: /\"(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])\"\\s*\\:/\n};\n\nexports.parse = function (text, reviver, options) {\n  // Normalize arguments\n  if (!options) {\n    if (reviver && typeof reviver === 'object') {\n      options = reviver;\n      reviver = undefined;\n    } else {\n      options = {};\n    }\n  } // Parse normally, allowing exceptions\n\n\n  var obj = JSON.parse(text, reviver); // options.protoAction: 'error' (default) / 'remove' / 'ignore'\n\n  if (options.protoAction === 'ignore') {\n    return obj;\n  } // Ignore null and non-objects\n\n\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  } // Check original string for potential exploit\n\n\n  if (!text.match(internals.suspectRx)) {\n    return obj;\n  } // Scan result for proto keys\n\n\n  exports.scan(obj, options);\n  return obj;\n};\n\nexports.scan = function (obj, options) {\n  options = options || {};\n  var next = [obj];\n\n  while (next.length) {\n    var nodes = next;\n    next = [];\n\n    var _iterator = _createForOfIteratorHelper(nodes),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var node = _step.value;\n\n        if (Object.prototype.hasOwnProperty.call(node, '__proto__')) {\n          // Avoid calling node.hasOwnProperty directly\n          if (options.protoAction !== 'remove') {\n            throw new SyntaxError('Object contains forbidden prototype property');\n          }\n\n          delete node.__proto__;\n        }\n\n        for (var key in node) {\n          var value = node[key];\n\n          if (value && typeof value === 'object') {\n            next.push(node[key]);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n};\n\nexports.safeParse = function (text, reviver) {\n  try {\n    return exports.parse(text, reviver);\n  } catch (ignoreError) {\n    return null;\n  }\n};","map":{"version":3,"sources":["/home/agatha/open/node_modules/@hapi/bourne/lib/index.js"],"names":["internals","suspectRx","exports","parse","text","reviver","options","undefined","obj","JSON","protoAction","match","scan","next","length","nodes","node","Object","prototype","hasOwnProperty","call","SyntaxError","__proto__","key","value","push","safeParse","ignoreError"],"mappings":"AAAA;;;;AAGA,IAAMA,SAAS,GAAG;AACdC,EAAAA,SAAS,EAAE;AADG,CAAlB;;AAKAC,OAAO,CAACC,KAAR,GAAgB,UAAUC,IAAV,EAAgBC,OAAhB,EAAyBC,OAAzB,EAAkC;AAE9C;AAEA,MAAI,CAACA,OAAL,EAAc;AACV,QAAID,OAAO,IACP,OAAOA,OAAP,KAAmB,QADvB,EACiC;AAE7BC,MAAAA,OAAO,GAAGD,OAAV;AACAA,MAAAA,OAAO,GAAGE,SAAV;AACH,KALD,MAMK;AACDD,MAAAA,OAAO,GAAG,EAAV;AACH;AACJ,GAd6C,CAgB9C;;;AAEA,MAAME,GAAG,GAAGC,IAAI,CAACN,KAAL,CAAWC,IAAX,EAAiBC,OAAjB,CAAZ,CAlB8C,CAoB9C;;AAEA,MAAIC,OAAO,CAACI,WAAR,KAAwB,QAA5B,EAAsC;AAClC,WAAOF,GAAP;AACH,GAxB6C,CA0B9C;;;AAEA,MAAI,CAACA,GAAD,IACA,OAAOA,GAAP,KAAe,QADnB,EAC6B;AAEzB,WAAOA,GAAP;AACH,GAhC6C,CAkC9C;;;AAEA,MAAI,CAACJ,IAAI,CAACO,KAAL,CAAWX,SAAS,CAACC,SAArB,CAAL,EAAsC;AAClC,WAAOO,GAAP;AACH,GAtC6C,CAwC9C;;;AAEAN,EAAAA,OAAO,CAACU,IAAR,CAAaJ,GAAb,EAAkBF,OAAlB;AAEA,SAAOE,GAAP;AACH,CA7CD;;AAgDAN,OAAO,CAACU,IAAR,GAAe,UAAUJ,GAAV,EAAeF,OAAf,EAAwB;AAEnCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,MAAIO,IAAI,GAAG,CAACL,GAAD,CAAX;;AAEA,SAAOK,IAAI,CAACC,MAAZ,EAAoB;AAChB,QAAMC,KAAK,GAAGF,IAAd;AACAA,IAAAA,IAAI,GAAG,EAAP;;AAFgB,+CAIGE,KAJH;AAAA;;AAAA;AAIhB,0DAA0B;AAAA,YAAfC,IAAe;;AACtB,YAAIC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,IAArC,EAA2C,WAA3C,CAAJ,EAA6D;AAAO;AAChE,cAAIV,OAAO,CAACI,WAAR,KAAwB,QAA5B,EAAsC;AAClC,kBAAM,IAAIW,WAAJ,CAAgB,8CAAhB,CAAN;AACH;;AAED,iBAAOL,IAAI,CAACM,SAAZ;AACH;;AAED,aAAK,IAAMC,GAAX,IAAkBP,IAAlB,EAAwB;AACpB,cAAMQ,KAAK,GAAGR,IAAI,CAACO,GAAD,CAAlB;;AACA,cAAIC,KAAK,IACL,OAAOA,KAAP,KAAiB,QADrB,EAC+B;AAE3BX,YAAAA,IAAI,CAACY,IAAL,CAAUT,IAAI,CAACO,GAAD,CAAd;AACH;AACJ;AACJ;AArBe;AAAA;AAAA;AAAA;AAAA;AAsBnB;AACJ,CA7BD;;AAgCArB,OAAO,CAACwB,SAAR,GAAoB,UAAUtB,IAAV,EAAgBC,OAAhB,EAAyB;AAEzC,MAAI;AACA,WAAOH,OAAO,CAACC,KAAR,CAAcC,IAAd,EAAoBC,OAApB,CAAP;AACH,GAFD,CAGA,OAAOsB,WAAP,EAAoB;AAChB,WAAO,IAAP;AACH;AACJ,CARD","sourcesContent":["'use strict';\r\n\r\n\r\nconst internals = {\r\n    suspectRx: /\"(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])\"\\s*\\:/\r\n};\r\n\r\n\r\nexports.parse = function (text, reviver, options) {\r\n\r\n    // Normalize arguments\r\n\r\n    if (!options) {\r\n        if (reviver &&\r\n            typeof reviver === 'object') {\r\n\r\n            options = reviver;\r\n            reviver = undefined;\r\n        }\r\n        else {\r\n            options = {};\r\n        }\r\n    }\r\n\r\n    // Parse normally, allowing exceptions\r\n\r\n    const obj = JSON.parse(text, reviver);\r\n\r\n    // options.protoAction: 'error' (default) / 'remove' / 'ignore'\r\n\r\n    if (options.protoAction === 'ignore') {\r\n        return obj;\r\n    }\r\n\r\n    // Ignore null and non-objects\r\n\r\n    if (!obj ||\r\n        typeof obj !== 'object') {\r\n\r\n        return obj;\r\n    }\r\n\r\n    // Check original string for potential exploit\r\n\r\n    if (!text.match(internals.suspectRx)) {\r\n        return obj;\r\n    }\r\n\r\n    // Scan result for proto keys\r\n\r\n    exports.scan(obj, options);\r\n\r\n    return obj;\r\n};\r\n\r\n\r\nexports.scan = function (obj, options) {\r\n\r\n    options = options || {};\r\n\r\n    let next = [obj];\r\n\r\n    while (next.length) {\r\n        const nodes = next;\r\n        next = [];\r\n\r\n        for (const node of nodes) {\r\n            if (Object.prototype.hasOwnProperty.call(node, '__proto__')) {      // Avoid calling node.hasOwnProperty directly\r\n                if (options.protoAction !== 'remove') {\r\n                    throw new SyntaxError('Object contains forbidden prototype property');\r\n                }\r\n\r\n                delete node.__proto__;\r\n            }\r\n\r\n            for (const key in node) {\r\n                const value = node[key];\r\n                if (value &&\r\n                    typeof value === 'object') {\r\n\r\n                    next.push(node[key]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexports.safeParse = function (text, reviver) {\r\n\r\n    try {\r\n        return exports.parse(text, reviver);\r\n    }\r\n    catch (ignoreError) {\r\n        return null;\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}