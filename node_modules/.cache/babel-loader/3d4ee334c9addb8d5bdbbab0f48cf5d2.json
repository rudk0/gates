{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isPluginRequired = isPluginRequired;\nexports.default = exports.getPolyfillPlugins = exports.getModulesPluginNames = exports.transformIncludesAndExcludes = void 0;\n\nvar _semver = require(\"semver\");\n\nvar _debug = require(\"./debug\");\n\nvar _getOptionSpecificExcludes = _interopRequireDefault(require(\"./get-option-specific-excludes\"));\n\nvar _filterItems = require(\"./filter-items\");\n\nvar _moduleTransformations = _interopRequireDefault(require(\"./module-transformations\"));\n\nvar _normalizeOptions = _interopRequireDefault(require(\"./normalize-options\"));\n\nvar _shippedProposals = require(\"../data/shipped-proposals\");\n\nvar _pluginsCompatData = require(\"./plugins-compat-data\");\n\nvar _overlappingPlugins = _interopRequireDefault(require(\"@babel/compat-data/overlapping-plugins\"));\n\nvar _usagePlugin = _interopRequireDefault(require(\"./polyfills/corejs2/usage-plugin\"));\n\nvar _usagePlugin2 = _interopRequireDefault(require(\"./polyfills/corejs3/usage-plugin\"));\n\nvar _usagePlugin3 = _interopRequireDefault(require(\"./polyfills/regenerator/usage-plugin\"));\n\nvar _entryPlugin = _interopRequireDefault(require(\"./polyfills/corejs2/entry-plugin\"));\n\nvar _entryPlugin2 = _interopRequireDefault(require(\"./polyfills/corejs3/entry-plugin\"));\n\nvar _entryPlugin3 = _interopRequireDefault(require(\"./polyfills/regenerator/entry-plugin\"));\n\nvar _helperCompilationTargets = _interopRequireWildcard(require(\"@babel/helper-compilation-targets\"));\n\nvar _availablePlugins = _interopRequireDefault(require(\"./available-plugins\"));\n\nvar _utils = require(\"./utils\");\n\nvar _helperPluginUtils = require(\"@babel/helper-plugin-utils\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction isPluginRequired(targets, support) {\n  return (0, _helperCompilationTargets.isRequired)(\"fake-name\", targets, {\n    compatData: {\n      \"fake-name\": support\n    }\n  });\n}\n\nconst pluginLists = {\n  withProposals: {\n    withoutBugfixes: _pluginsCompatData.plugins,\n    withBugfixes: Object.assign({}, _pluginsCompatData.plugins, _pluginsCompatData.pluginsBugfixes)\n  },\n  withoutProposals: {\n    withoutBugfixes: (0, _utils.filterStageFromList)(_pluginsCompatData.plugins, _shippedProposals.proposalPlugins),\n    withBugfixes: (0, _utils.filterStageFromList)(Object.assign({}, _pluginsCompatData.plugins, _pluginsCompatData.pluginsBugfixes), _shippedProposals.proposalPlugins)\n  }\n};\n\nfunction getPluginList(proposals, bugfixes) {\n  if (proposals) {\n    if (bugfixes) return pluginLists.withProposals.withBugfixes;else return pluginLists.withProposals.withoutBugfixes;\n  } else {\n    if (bugfixes) return pluginLists.withoutProposals.withBugfixes;else return pluginLists.withoutProposals.withoutBugfixes;\n  }\n}\n\nconst getPlugin = pluginName => {\n  const plugin = _availablePlugins.default[pluginName];\n\n  if (!plugin) {\n    throw new Error(`Could not find plugin \"${pluginName}\". Ensure there is an entry in ./available-plugins.js for it.`);\n  }\n\n  return plugin;\n};\n\nconst transformIncludesAndExcludes = opts => {\n  return opts.reduce((result, opt) => {\n    const target = opt.match(/^(es|es6|es7|esnext|web)\\./) ? \"builtIns\" : \"plugins\";\n    result[target].add(opt);\n    return result;\n  }, {\n    all: opts,\n    plugins: new Set(),\n    builtIns: new Set()\n  });\n};\n\nexports.transformIncludesAndExcludes = transformIncludesAndExcludes;\n\nconst getModulesPluginNames = ({\n  modules,\n  transformations,\n  shouldTransformESM,\n  shouldTransformDynamicImport,\n  shouldParseTopLevelAwait\n}) => {\n  const modulesPluginNames = [];\n\n  if (modules !== false && transformations[modules]) {\n    if (shouldTransformESM) {\n      modulesPluginNames.push(transformations[modules]);\n    }\n\n    if (shouldTransformDynamicImport && shouldTransformESM && modules !== \"umd\") {\n      modulesPluginNames.push(\"proposal-dynamic-import\");\n    } else {\n      if (shouldTransformDynamicImport) {\n        console.warn(\"Dynamic import can only be supported when transforming ES modules\" + \" to AMD, CommonJS or SystemJS. Only the parser plugin will be enabled.\");\n      }\n\n      modulesPluginNames.push(\"syntax-dynamic-import\");\n    }\n  } else {\n    modulesPluginNames.push(\"syntax-dynamic-import\");\n  }\n\n  if (shouldParseTopLevelAwait) {\n    modulesPluginNames.push(\"syntax-top-level-await\");\n  }\n\n  return modulesPluginNames;\n};\n\nexports.getModulesPluginNames = getModulesPluginNames;\n\nconst getPolyfillPlugins = ({\n  useBuiltIns,\n  corejs,\n  polyfillTargets,\n  include,\n  exclude,\n  proposals,\n  shippedProposals,\n  regenerator,\n  debug\n}) => {\n  const polyfillPlugins = [];\n\n  if (useBuiltIns === \"usage\" || useBuiltIns === \"entry\") {\n    const pluginOptions = {\n      corejs,\n      polyfillTargets,\n      include,\n      exclude,\n      proposals,\n      shippedProposals,\n      regenerator,\n      debug\n    };\n\n    if (corejs) {\n      if (useBuiltIns === \"usage\") {\n        if (corejs.major === 2) {\n          polyfillPlugins.push([_usagePlugin.default, pluginOptions]);\n        } else {\n          polyfillPlugins.push([_usagePlugin2.default, pluginOptions]);\n        }\n\n        if (regenerator) {\n          polyfillPlugins.push([_usagePlugin3.default, pluginOptions]);\n        }\n      } else {\n        if (corejs.major === 2) {\n          polyfillPlugins.push([_entryPlugin.default, pluginOptions]);\n        } else {\n          polyfillPlugins.push([_entryPlugin2.default, pluginOptions]);\n\n          if (!regenerator) {\n            polyfillPlugins.push([_entryPlugin3.default, pluginOptions]);\n          }\n        }\n      }\n    }\n  }\n\n  return polyfillPlugins;\n};\n\nexports.getPolyfillPlugins = getPolyfillPlugins;\n\nfunction supportsStaticESM(caller) {\n  return !!(caller == null ? void 0 : caller.supportsStaticESM);\n}\n\nfunction supportsDynamicImport(caller) {\n  return !!(caller == null ? void 0 : caller.supportsDynamicImport);\n}\n\nfunction supportsTopLevelAwait(caller) {\n  return !!(caller == null ? void 0 : caller.supportsTopLevelAwait);\n}\n\nvar _default = (0, _helperPluginUtils.declare)((api, opts) => {\n  api.assertVersion(7);\n  const {\n    bugfixes,\n    configPath,\n    debug,\n    exclude: optionsExclude,\n    forceAllTransforms,\n    ignoreBrowserslistConfig,\n    include: optionsInclude,\n    loose,\n    modules,\n    shippedProposals,\n    spec,\n    targets: optionsTargets,\n    useBuiltIns,\n    corejs: {\n      version: corejs,\n      proposals\n    },\n    browserslistEnv\n  } = (0, _normalizeOptions.default)(opts);\n  let hasUglifyTarget = false;\n\n  if (optionsTargets == null ? void 0 : optionsTargets.uglify) {\n    hasUglifyTarget = true;\n    delete optionsTargets.uglify;\n    console.log(\"\");\n    console.log(\"The uglify target has been deprecated. Set the top level\");\n    console.log(\"option `forceAllTransforms: true` instead.\");\n    console.log(\"\");\n  }\n\n  if ((optionsTargets == null ? void 0 : optionsTargets.esmodules) && optionsTargets.browsers) {\n    console.log(\"\");\n    console.log(\"@babel/preset-env: esmodules and browsers targets have been specified together.\");\n    console.log(`\\`browsers\\` target, \\`${optionsTargets.browsers}\\` will be ignored.`);\n    console.log(\"\");\n  }\n\n  const targets = (0, _helperCompilationTargets.default)(optionsTargets, {\n    ignoreBrowserslistConfig,\n    configPath,\n    browserslistEnv\n  });\n  const include = transformIncludesAndExcludes(optionsInclude);\n  const exclude = transformIncludesAndExcludes(optionsExclude);\n  const transformTargets = forceAllTransforms || hasUglifyTarget ? {} : targets;\n  const modulesPluginNames = getModulesPluginNames({\n    modules,\n    transformations: _moduleTransformations.default,\n    shouldTransformESM: modules !== \"auto\" || !(api.caller == null ? void 0 : api.caller(supportsStaticESM)),\n    shouldTransformDynamicImport: modules !== \"auto\" || !(api.caller == null ? void 0 : api.caller(supportsDynamicImport)),\n    shouldParseTopLevelAwait: !api.caller || api.caller(supportsTopLevelAwait)\n  });\n  const pluginNames = (0, _helperCompilationTargets.filterItems)(getPluginList(shippedProposals, bugfixes), include.plugins, exclude.plugins, transformTargets, modulesPluginNames, (0, _getOptionSpecificExcludes.default)({\n    loose\n  }), _shippedProposals.pluginSyntaxMap);\n  (0, _filterItems.removeUnnecessaryItems)(pluginNames, _overlappingPlugins.default);\n  const polyfillPlugins = getPolyfillPlugins({\n    useBuiltIns,\n    corejs,\n    polyfillTargets: targets,\n    include: include.builtIns,\n    exclude: exclude.builtIns,\n    proposals,\n    shippedProposals,\n    regenerator: pluginNames.has(\"transform-regenerator\"),\n    debug\n  });\n  const pluginUseBuiltIns = useBuiltIns !== false;\n  const plugins = Array.from(pluginNames).map(pluginName => {\n    if (pluginName === \"proposal-class-properties\" || pluginName === \"proposal-private-methods\" || pluginName === \"proposal-private-property-in-object\") {\n      return [getPlugin(pluginName), {\n        loose: loose ? \"#__internal__@babel/preset-env__prefer-true-but-false-is-ok-if-it-prevents-an-error\" : \"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"\n      }];\n    }\n\n    return [getPlugin(pluginName), {\n      spec,\n      loose,\n      useBuiltIns: pluginUseBuiltIns\n    }];\n  }).concat(polyfillPlugins);\n\n  if (debug) {\n    console.log(\"@babel/preset-env: `DEBUG` option\");\n    console.log(\"\\nUsing targets:\");\n    console.log(JSON.stringify((0, _helperCompilationTargets.prettifyTargets)(targets), null, 2));\n    console.log(`\\nUsing modules transform: ${modules.toString()}`);\n    console.log(\"\\nUsing plugins:\");\n    pluginNames.forEach(pluginName => {\n      (0, _debug.logPluginOrPolyfill)(pluginName, targets, _pluginsCompatData.plugins);\n    });\n\n    if (!useBuiltIns) {\n      console.log(\"\\nUsing polyfills: No polyfills were added, since the `useBuiltIns` option was not set.\");\n    } else {\n      console.log(`\\nUsing polyfills with \\`${useBuiltIns}\\` option:`);\n    }\n  }\n\n  return {\n    plugins\n  };\n});\n\nexports.default = _default;","map":{"version":3,"sources":["/home/agatha/open/node_modules/@babel/preset-env/lib/index.js"],"names":["Object","defineProperty","exports","value","isPluginRequired","default","getPolyfillPlugins","getModulesPluginNames","transformIncludesAndExcludes","_semver","require","_debug","_getOptionSpecificExcludes","_interopRequireDefault","_filterItems","_moduleTransformations","_normalizeOptions","_shippedProposals","_pluginsCompatData","_overlappingPlugins","_usagePlugin","_usagePlugin2","_usagePlugin3","_entryPlugin","_entryPlugin2","_entryPlugin3","_helperCompilationTargets","_interopRequireWildcard","_availablePlugins","_utils","_helperPluginUtils","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","targets","support","isRequired","compatData","pluginLists","withProposals","withoutBugfixes","plugins","withBugfixes","assign","pluginsBugfixes","withoutProposals","filterStageFromList","proposalPlugins","getPluginList","proposals","bugfixes","getPlugin","pluginName","plugin","Error","opts","reduce","result","opt","target","match","add","all","Set","builtIns","modules","transformations","shouldTransformESM","shouldTransformDynamicImport","shouldParseTopLevelAwait","modulesPluginNames","push","console","warn","useBuiltIns","corejs","polyfillTargets","include","exclude","shippedProposals","regenerator","debug","polyfillPlugins","pluginOptions","major","supportsStaticESM","caller","supportsDynamicImport","supportsTopLevelAwait","_default","declare","api","assertVersion","configPath","optionsExclude","forceAllTransforms","ignoreBrowserslistConfig","optionsInclude","loose","spec","optionsTargets","version","browserslistEnv","hasUglifyTarget","uglify","log","esmodules","browsers","transformTargets","pluginNames","filterItems","pluginSyntaxMap","removeUnnecessaryItems","pluginUseBuiltIns","Array","from","map","concat","JSON","stringify","prettifyTargets","toString","forEach","logPluginOrPolyfill"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isPluginRequired = isPluginRequired;\nexports.default = exports.getPolyfillPlugins = exports.getModulesPluginNames = exports.transformIncludesAndExcludes = void 0;\n\nvar _semver = require(\"semver\");\n\nvar _debug = require(\"./debug\");\n\nvar _getOptionSpecificExcludes = _interopRequireDefault(require(\"./get-option-specific-excludes\"));\n\nvar _filterItems = require(\"./filter-items\");\n\nvar _moduleTransformations = _interopRequireDefault(require(\"./module-transformations\"));\n\nvar _normalizeOptions = _interopRequireDefault(require(\"./normalize-options\"));\n\nvar _shippedProposals = require(\"../data/shipped-proposals\");\n\nvar _pluginsCompatData = require(\"./plugins-compat-data\");\n\nvar _overlappingPlugins = _interopRequireDefault(require(\"@babel/compat-data/overlapping-plugins\"));\n\nvar _usagePlugin = _interopRequireDefault(require(\"./polyfills/corejs2/usage-plugin\"));\n\nvar _usagePlugin2 = _interopRequireDefault(require(\"./polyfills/corejs3/usage-plugin\"));\n\nvar _usagePlugin3 = _interopRequireDefault(require(\"./polyfills/regenerator/usage-plugin\"));\n\nvar _entryPlugin = _interopRequireDefault(require(\"./polyfills/corejs2/entry-plugin\"));\n\nvar _entryPlugin2 = _interopRequireDefault(require(\"./polyfills/corejs3/entry-plugin\"));\n\nvar _entryPlugin3 = _interopRequireDefault(require(\"./polyfills/regenerator/entry-plugin\"));\n\nvar _helperCompilationTargets = _interopRequireWildcard(require(\"@babel/helper-compilation-targets\"));\n\nvar _availablePlugins = _interopRequireDefault(require(\"./available-plugins\"));\n\nvar _utils = require(\"./utils\");\n\nvar _helperPluginUtils = require(\"@babel/helper-plugin-utils\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isPluginRequired(targets, support) {\n  return (0, _helperCompilationTargets.isRequired)(\"fake-name\", targets, {\n    compatData: {\n      \"fake-name\": support\n    }\n  });\n}\n\nconst pluginLists = {\n  withProposals: {\n    withoutBugfixes: _pluginsCompatData.plugins,\n    withBugfixes: Object.assign({}, _pluginsCompatData.plugins, _pluginsCompatData.pluginsBugfixes)\n  },\n  withoutProposals: {\n    withoutBugfixes: (0, _utils.filterStageFromList)(_pluginsCompatData.plugins, _shippedProposals.proposalPlugins),\n    withBugfixes: (0, _utils.filterStageFromList)(Object.assign({}, _pluginsCompatData.plugins, _pluginsCompatData.pluginsBugfixes), _shippedProposals.proposalPlugins)\n  }\n};\n\nfunction getPluginList(proposals, bugfixes) {\n  if (proposals) {\n    if (bugfixes) return pluginLists.withProposals.withBugfixes;else return pluginLists.withProposals.withoutBugfixes;\n  } else {\n    if (bugfixes) return pluginLists.withoutProposals.withBugfixes;else return pluginLists.withoutProposals.withoutBugfixes;\n  }\n}\n\nconst getPlugin = pluginName => {\n  const plugin = _availablePlugins.default[pluginName];\n\n  if (!plugin) {\n    throw new Error(`Could not find plugin \"${pluginName}\". Ensure there is an entry in ./available-plugins.js for it.`);\n  }\n\n  return plugin;\n};\n\nconst transformIncludesAndExcludes = opts => {\n  return opts.reduce((result, opt) => {\n    const target = opt.match(/^(es|es6|es7|esnext|web)\\./) ? \"builtIns\" : \"plugins\";\n    result[target].add(opt);\n    return result;\n  }, {\n    all: opts,\n    plugins: new Set(),\n    builtIns: new Set()\n  });\n};\n\nexports.transformIncludesAndExcludes = transformIncludesAndExcludes;\n\nconst getModulesPluginNames = ({\n  modules,\n  transformations,\n  shouldTransformESM,\n  shouldTransformDynamicImport,\n  shouldParseTopLevelAwait\n}) => {\n  const modulesPluginNames = [];\n\n  if (modules !== false && transformations[modules]) {\n    if (shouldTransformESM) {\n      modulesPluginNames.push(transformations[modules]);\n    }\n\n    if (shouldTransformDynamicImport && shouldTransformESM && modules !== \"umd\") {\n      modulesPluginNames.push(\"proposal-dynamic-import\");\n    } else {\n      if (shouldTransformDynamicImport) {\n        console.warn(\"Dynamic import can only be supported when transforming ES modules\" + \" to AMD, CommonJS or SystemJS. Only the parser plugin will be enabled.\");\n      }\n\n      modulesPluginNames.push(\"syntax-dynamic-import\");\n    }\n  } else {\n    modulesPluginNames.push(\"syntax-dynamic-import\");\n  }\n\n  if (shouldParseTopLevelAwait) {\n    modulesPluginNames.push(\"syntax-top-level-await\");\n  }\n\n  return modulesPluginNames;\n};\n\nexports.getModulesPluginNames = getModulesPluginNames;\n\nconst getPolyfillPlugins = ({\n  useBuiltIns,\n  corejs,\n  polyfillTargets,\n  include,\n  exclude,\n  proposals,\n  shippedProposals,\n  regenerator,\n  debug\n}) => {\n  const polyfillPlugins = [];\n\n  if (useBuiltIns === \"usage\" || useBuiltIns === \"entry\") {\n    const pluginOptions = {\n      corejs,\n      polyfillTargets,\n      include,\n      exclude,\n      proposals,\n      shippedProposals,\n      regenerator,\n      debug\n    };\n\n    if (corejs) {\n      if (useBuiltIns === \"usage\") {\n        if (corejs.major === 2) {\n          polyfillPlugins.push([_usagePlugin.default, pluginOptions]);\n        } else {\n          polyfillPlugins.push([_usagePlugin2.default, pluginOptions]);\n        }\n\n        if (regenerator) {\n          polyfillPlugins.push([_usagePlugin3.default, pluginOptions]);\n        }\n      } else {\n        if (corejs.major === 2) {\n          polyfillPlugins.push([_entryPlugin.default, pluginOptions]);\n        } else {\n          polyfillPlugins.push([_entryPlugin2.default, pluginOptions]);\n\n          if (!regenerator) {\n            polyfillPlugins.push([_entryPlugin3.default, pluginOptions]);\n          }\n        }\n      }\n    }\n  }\n\n  return polyfillPlugins;\n};\n\nexports.getPolyfillPlugins = getPolyfillPlugins;\n\nfunction supportsStaticESM(caller) {\n  return !!(caller == null ? void 0 : caller.supportsStaticESM);\n}\n\nfunction supportsDynamicImport(caller) {\n  return !!(caller == null ? void 0 : caller.supportsDynamicImport);\n}\n\nfunction supportsTopLevelAwait(caller) {\n  return !!(caller == null ? void 0 : caller.supportsTopLevelAwait);\n}\n\nvar _default = (0, _helperPluginUtils.declare)((api, opts) => {\n  api.assertVersion(7);\n  const {\n    bugfixes,\n    configPath,\n    debug,\n    exclude: optionsExclude,\n    forceAllTransforms,\n    ignoreBrowserslistConfig,\n    include: optionsInclude,\n    loose,\n    modules,\n    shippedProposals,\n    spec,\n    targets: optionsTargets,\n    useBuiltIns,\n    corejs: {\n      version: corejs,\n      proposals\n    },\n    browserslistEnv\n  } = (0, _normalizeOptions.default)(opts);\n  let hasUglifyTarget = false;\n\n  if (optionsTargets == null ? void 0 : optionsTargets.uglify) {\n    hasUglifyTarget = true;\n    delete optionsTargets.uglify;\n    console.log(\"\");\n    console.log(\"The uglify target has been deprecated. Set the top level\");\n    console.log(\"option `forceAllTransforms: true` instead.\");\n    console.log(\"\");\n  }\n\n  if ((optionsTargets == null ? void 0 : optionsTargets.esmodules) && optionsTargets.browsers) {\n    console.log(\"\");\n    console.log(\"@babel/preset-env: esmodules and browsers targets have been specified together.\");\n    console.log(`\\`browsers\\` target, \\`${optionsTargets.browsers}\\` will be ignored.`);\n    console.log(\"\");\n  }\n\n  const targets = (0, _helperCompilationTargets.default)(optionsTargets, {\n    ignoreBrowserslistConfig,\n    configPath,\n    browserslistEnv\n  });\n  const include = transformIncludesAndExcludes(optionsInclude);\n  const exclude = transformIncludesAndExcludes(optionsExclude);\n  const transformTargets = forceAllTransforms || hasUglifyTarget ? {} : targets;\n  const modulesPluginNames = getModulesPluginNames({\n    modules,\n    transformations: _moduleTransformations.default,\n    shouldTransformESM: modules !== \"auto\" || !(api.caller == null ? void 0 : api.caller(supportsStaticESM)),\n    shouldTransformDynamicImport: modules !== \"auto\" || !(api.caller == null ? void 0 : api.caller(supportsDynamicImport)),\n    shouldParseTopLevelAwait: !api.caller || api.caller(supportsTopLevelAwait)\n  });\n  const pluginNames = (0, _helperCompilationTargets.filterItems)(getPluginList(shippedProposals, bugfixes), include.plugins, exclude.plugins, transformTargets, modulesPluginNames, (0, _getOptionSpecificExcludes.default)({\n    loose\n  }), _shippedProposals.pluginSyntaxMap);\n  (0, _filterItems.removeUnnecessaryItems)(pluginNames, _overlappingPlugins.default);\n  const polyfillPlugins = getPolyfillPlugins({\n    useBuiltIns,\n    corejs,\n    polyfillTargets: targets,\n    include: include.builtIns,\n    exclude: exclude.builtIns,\n    proposals,\n    shippedProposals,\n    regenerator: pluginNames.has(\"transform-regenerator\"),\n    debug\n  });\n  const pluginUseBuiltIns = useBuiltIns !== false;\n  const plugins = Array.from(pluginNames).map(pluginName => {\n    if (pluginName === \"proposal-class-properties\" || pluginName === \"proposal-private-methods\" || pluginName === \"proposal-private-property-in-object\") {\n      return [getPlugin(pluginName), {\n        loose: loose ? \"#__internal__@babel/preset-env__prefer-true-but-false-is-ok-if-it-prevents-an-error\" : \"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"\n      }];\n    }\n\n    return [getPlugin(pluginName), {\n      spec,\n      loose,\n      useBuiltIns: pluginUseBuiltIns\n    }];\n  }).concat(polyfillPlugins);\n\n  if (debug) {\n    console.log(\"@babel/preset-env: `DEBUG` option\");\n    console.log(\"\\nUsing targets:\");\n    console.log(JSON.stringify((0, _helperCompilationTargets.prettifyTargets)(targets), null, 2));\n    console.log(`\\nUsing modules transform: ${modules.toString()}`);\n    console.log(\"\\nUsing plugins:\");\n    pluginNames.forEach(pluginName => {\n      (0, _debug.logPluginOrPolyfill)(pluginName, targets, _pluginsCompatData.plugins);\n    });\n\n    if (!useBuiltIns) {\n      console.log(\"\\nUsing polyfills: No polyfills were added, since the `useBuiltIns` option was not set.\");\n    } else {\n      console.log(`\\nUsing polyfills with \\`${useBuiltIns}\\` option:`);\n    }\n  }\n\n  return {\n    plugins\n  };\n});\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}