{"ast":null,"code":"\"use strict\";\n/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\n\nvar assert = require('assert');\n\nvar cdn = require('../cdn-details.json');\n\nvar errors = require('./errors');\n\nvar getCDNOrigin = function getCDNOrigin() {\n  return \"\".concat(cdn.origin, \"/\").concat(cdn.bucketName, \"/\").concat(cdn.releasesDir);\n};\n\nvar getVersionedCDNURL = function getVersionedCDNURL() {\n  return \"\".concat(getCDNOrigin(), \"/\").concat(cdn.latestVersion);\n};\n\nvar getModuleURL = function getModuleURL(moduleName, buildType) {\n  assert(moduleName, errors['no-module-name']);\n\n  if (buildType) {\n    var pkgJson = require(\"\".concat(moduleName, \"/package.json\"));\n\n    if (buildType === 'dev' && pkgJson.workbox.prodOnly) {\n      // This is not due to a public-facing exception, so just throw an Error(),\n      // without creating an entry in errors.js.\n      throw Error(\"The 'dev' build of \".concat(moduleName, \" is not available.\"));\n    }\n\n    return \"\".concat(getVersionedCDNURL(), \"/\").concat(moduleName, \".\").concat(buildType.slice(0, 4), \".js\");\n  }\n\n  return \"\".concat(getVersionedCDNURL(), \"/\").concat(moduleName, \".js\");\n};\n\nmodule.exports = {\n  getCDNOrigin: getCDNOrigin,\n  getModuleURL: getModuleURL\n};","map":{"version":3,"sources":["/home/agatha/open/node_modules/workbox-build/build/lib/cdn-utils.js"],"names":["assert","require","cdn","errors","getCDNOrigin","origin","bucketName","releasesDir","getVersionedCDNURL","latestVersion","getModuleURL","moduleName","buildType","pkgJson","workbox","prodOnly","Error","slice","module","exports"],"mappings":"AAAA;AAEA;;;;;;;;AAOA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AAEA,IAAMC,GAAG,GAAGD,OAAO,CAAC,qBAAD,CAAnB;;AAEA,IAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AAEA,IAAMG,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,mBAAUF,GAAG,CAACG,MAAd,cAAwBH,GAAG,CAACI,UAA5B,cAA0CJ,GAAG,CAACK,WAA9C;AACD,CAFD;;AAIA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B,mBAAUJ,YAAY,EAAtB,cAA4BF,GAAG,CAACO,aAAhC;AACD,CAFD;;AAIA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,UAAD,EAAaC,SAAb,EAA2B;AAC9CZ,EAAAA,MAAM,CAACW,UAAD,EAAaR,MAAM,CAAC,gBAAD,CAAnB,CAAN;;AAEA,MAAIS,SAAJ,EAAe;AACb,QAAMC,OAAO,GAAGZ,OAAO,WAAIU,UAAJ,mBAAvB;;AAEA,QAAIC,SAAS,KAAK,KAAd,IAAuBC,OAAO,CAACC,OAAR,CAAgBC,QAA3C,EAAqD;AACnD;AACA;AACA,YAAMC,KAAK,8BAAuBL,UAAvB,wBAAX;AACD;;AAED,qBAAUH,kBAAkB,EAA5B,cAAkCG,UAAlC,cAAgDC,SAAS,CAACK,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAhD;AACD;;AAED,mBAAUT,kBAAkB,EAA5B,cAAkCG,UAAlC;AACD,CAhBD;;AAkBAO,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,YAAY,EAAZA,YADe;AAEfM,EAAAA,YAAY,EAAZA;AAFe,CAAjB","sourcesContent":["\"use strict\";\n\n/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nconst assert = require('assert');\n\nconst cdn = require('../cdn-details.json');\n\nconst errors = require('./errors');\n\nconst getCDNOrigin = () => {\n  return `${cdn.origin}/${cdn.bucketName}/${cdn.releasesDir}`;\n};\n\nconst getVersionedCDNURL = () => {\n  return `${getCDNOrigin()}/${cdn.latestVersion}`;\n};\n\nconst getModuleURL = (moduleName, buildType) => {\n  assert(moduleName, errors['no-module-name']);\n\n  if (buildType) {\n    const pkgJson = require(`${moduleName}/package.json`);\n\n    if (buildType === 'dev' && pkgJson.workbox.prodOnly) {\n      // This is not due to a public-facing exception, so just throw an Error(),\n      // without creating an entry in errors.js.\n      throw Error(`The 'dev' build of ${moduleName} is not available.`);\n    }\n\n    return `${getVersionedCDNURL()}/${moduleName}.${buildType.slice(0, 4)}.js`;\n  }\n\n  return `${getVersionedCDNURL()}/${moduleName}.js`;\n};\n\nmodule.exports = {\n  getCDNOrigin,\n  getModuleURL\n};"]},"metadata":{},"sourceType":"script"}