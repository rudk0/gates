{"ast":null,"code":"\"use strict\";\n/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\n\nconst assert = require('assert');\n\nconst cdn = require('../cdn-details.json');\n\nconst errors = require('./errors');\n\nconst getCDNOrigin = () => {\n  return `${cdn.origin}/${cdn.bucketName}/${cdn.releasesDir}`;\n};\n\nconst getVersionedCDNURL = () => {\n  return `${getCDNOrigin()}/${cdn.latestVersion}`;\n};\n\nconst getModuleURL = (moduleName, buildType) => {\n  assert(moduleName, errors['no-module-name']);\n\n  if (buildType) {\n    const pkgJson = require(`${moduleName}/package.json`);\n\n    if (buildType === 'dev' && pkgJson.workbox.prodOnly) {\n      // This is not due to a public-facing exception, so just throw an Error(),\n      // without creating an entry in errors.js.\n      throw Error(`The 'dev' build of ${moduleName} is not available.`);\n    }\n\n    return `${getVersionedCDNURL()}/${moduleName}.${buildType.slice(0, 4)}.js`;\n  }\n\n  return `${getVersionedCDNURL()}/${moduleName}.js`;\n};\n\nmodule.exports = {\n  getCDNOrigin,\n  getModuleURL\n};","map":{"version":3,"sources":["/home/agatha/open/node_modules/workbox-build/build/lib/cdn-utils.js"],"names":["assert","require","cdn","errors","getCDNOrigin","origin","bucketName","releasesDir","getVersionedCDNURL","latestVersion","getModuleURL","moduleName","buildType","pkgJson","workbox","prodOnly","Error","slice","module","exports"],"mappings":"AAAA;AAEA;;;;;;;;AAOA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMC,GAAG,GAAGD,OAAO,CAAC,qBAAD,CAAnB;;AAEA,MAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAMG,YAAY,GAAG,MAAM;AACzB,SAAQ,GAAEF,GAAG,CAACG,MAAO,IAAGH,GAAG,CAACI,UAAW,IAAGJ,GAAG,CAACK,WAAY,EAA1D;AACD,CAFD;;AAIA,MAAMC,kBAAkB,GAAG,MAAM;AAC/B,SAAQ,GAAEJ,YAAY,EAAG,IAAGF,GAAG,CAACO,aAAc,EAA9C;AACD,CAFD;;AAIA,MAAMC,YAAY,GAAG,CAACC,UAAD,EAAaC,SAAb,KAA2B;AAC9CZ,EAAAA,MAAM,CAACW,UAAD,EAAaR,MAAM,CAAC,gBAAD,CAAnB,CAAN;;AAEA,MAAIS,SAAJ,EAAe;AACb,UAAMC,OAAO,GAAGZ,OAAO,CAAE,GAAEU,UAAW,eAAf,CAAvB;;AAEA,QAAIC,SAAS,KAAK,KAAd,IAAuBC,OAAO,CAACC,OAAR,CAAgBC,QAA3C,EAAqD;AACnD;AACA;AACA,YAAMC,KAAK,CAAE,sBAAqBL,UAAW,oBAAlC,CAAX;AACD;;AAED,WAAQ,GAAEH,kBAAkB,EAAG,IAAGG,UAAW,IAAGC,SAAS,CAACK,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAsB,KAAtE;AACD;;AAED,SAAQ,GAAET,kBAAkB,EAAG,IAAGG,UAAW,KAA7C;AACD,CAhBD;;AAkBAO,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,YADe;AAEfM,EAAAA;AAFe,CAAjB","sourcesContent":["\"use strict\";\n\n/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nconst assert = require('assert');\n\nconst cdn = require('../cdn-details.json');\n\nconst errors = require('./errors');\n\nconst getCDNOrigin = () => {\n  return `${cdn.origin}/${cdn.bucketName}/${cdn.releasesDir}`;\n};\n\nconst getVersionedCDNURL = () => {\n  return `${getCDNOrigin()}/${cdn.latestVersion}`;\n};\n\nconst getModuleURL = (moduleName, buildType) => {\n  assert(moduleName, errors['no-module-name']);\n\n  if (buildType) {\n    const pkgJson = require(`${moduleName}/package.json`);\n\n    if (buildType === 'dev' && pkgJson.workbox.prodOnly) {\n      // This is not due to a public-facing exception, so just throw an Error(),\n      // without creating an entry in errors.js.\n      throw Error(`The 'dev' build of ${moduleName} is not available.`);\n    }\n\n    return `${getVersionedCDNURL()}/${moduleName}.${buildType.slice(0, 4)}.js`;\n  }\n\n  return `${getVersionedCDNURL()}/${moduleName}.js`;\n};\n\nmodule.exports = {\n  getCDNOrigin,\n  getModuleURL\n};"]},"metadata":{},"sourceType":"script"}