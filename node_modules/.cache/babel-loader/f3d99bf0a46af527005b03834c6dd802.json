{"ast":null,"code":"\"use strict\";\n/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\n\nconst template = require('lodash.template');\n\nconst swTemplate = require('../templates/sw-template');\n\nconst errors = require('./errors');\n\nconst runtimeCachingConverter = require('./runtime-caching-converter');\n\nconst stringifyWithoutComments = require('./stringify-without-comments');\n\nmodule.exports = ({\n  cacheId,\n  cleanupOutdatedCaches,\n  clientsClaim,\n  directoryIndex,\n  ignoreURLParametersMatching,\n  importScripts,\n  manifestEntries,\n  modulePathPrefix,\n  navigateFallback,\n  navigateFallbackBlacklist,\n  navigateFallbackWhitelist,\n  navigationPreload,\n  offlineGoogleAnalytics,\n  runtimeCaching,\n  skipWaiting,\n  workboxSWImport\n}) => {\n  // These are all options that can be passed to the precacheAndRoute() method.\n  const precacheOptions = {\n    directoryIndex,\n    // An array of RegExp objects can't be serialized by JSON.stringify()'s\n    // default behavior, so if it's given, convert it manually.\n    ignoreURLParametersMatching: ignoreURLParametersMatching ? [] : undefined\n  };\n  let precacheOptionsString = JSON.stringify(precacheOptions, null, 2);\n\n  if (ignoreURLParametersMatching) {\n    precacheOptionsString = precacheOptionsString.replace(`\"ignoreURLParametersMatching\": []`, `\"ignoreURLParametersMatching\": [` + `${ignoreURLParametersMatching.join(', ')}]`);\n  }\n\n  let offlineAnalyticsConfigString;\n\n  if (offlineGoogleAnalytics) {\n    // If offlineGoogleAnalytics is a truthy value, we need to convert it to the\n    // format expected by the template.\n    offlineAnalyticsConfigString = offlineGoogleAnalytics === true ? // If it's the literal value true, then use an empty config string.\n    '{}' : // Otherwise, convert the config object into a more complex string, taking\n    // into account the fact that functions might need to be stringified.\n    stringifyWithoutComments(offlineGoogleAnalytics);\n  }\n\n  try {\n    const populatedTemplate = template(swTemplate)({\n      cacheId,\n      cleanupOutdatedCaches,\n      clientsClaim,\n      importScripts,\n      manifestEntries,\n      modulePathPrefix,\n      navigateFallback,\n      navigateFallbackBlacklist,\n      navigateFallbackWhitelist,\n      navigationPreload,\n      offlineAnalyticsConfigString,\n      precacheOptionsString,\n      skipWaiting,\n      runtimeCaching: runtimeCachingConverter(runtimeCaching),\n      workboxSWImport\n    }); // Clean up multiple blank lines.\n\n    return populatedTemplate.replace(/\\n{3,}/g, '\\n\\n').trim() + '\\n';\n  } catch (error) {\n    throw new Error(`${errors['populating-sw-tmpl-failed']} '${error.message}'`);\n  }\n};","map":{"version":3,"sources":["/home/agatha/open/node_modules/workbox-build/build/lib/populate-sw-template.js"],"names":["template","require","swTemplate","errors","runtimeCachingConverter","stringifyWithoutComments","module","exports","cacheId","cleanupOutdatedCaches","clientsClaim","directoryIndex","ignoreURLParametersMatching","importScripts","manifestEntries","modulePathPrefix","navigateFallback","navigateFallbackBlacklist","navigateFallbackWhitelist","navigationPreload","offlineGoogleAnalytics","runtimeCaching","skipWaiting","workboxSWImport","precacheOptions","undefined","precacheOptionsString","JSON","stringify","replace","join","offlineAnalyticsConfigString","populatedTemplate","trim","error","Error","message"],"mappings":"AAAA;AAEA;;;;;;;;AAOA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AAEA,MAAMC,UAAU,GAAGD,OAAO,CAAC,0BAAD,CAA1B;;AAEA,MAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAMG,uBAAuB,GAAGH,OAAO,CAAC,6BAAD,CAAvC;;AAEA,MAAMI,wBAAwB,GAAGJ,OAAO,CAAC,8BAAD,CAAxC;;AAEAK,MAAM,CAACC,OAAP,GAAiB,CAAC;AAChBC,EAAAA,OADgB;AAEhBC,EAAAA,qBAFgB;AAGhBC,EAAAA,YAHgB;AAIhBC,EAAAA,cAJgB;AAKhBC,EAAAA,2BALgB;AAMhBC,EAAAA,aANgB;AAOhBC,EAAAA,eAPgB;AAQhBC,EAAAA,gBARgB;AAShBC,EAAAA,gBATgB;AAUhBC,EAAAA,yBAVgB;AAWhBC,EAAAA,yBAXgB;AAYhBC,EAAAA,iBAZgB;AAahBC,EAAAA,sBAbgB;AAchBC,EAAAA,cAdgB;AAehBC,EAAAA,WAfgB;AAgBhBC,EAAAA;AAhBgB,CAAD,KAiBX;AACJ;AACA,QAAMC,eAAe,GAAG;AACtBb,IAAAA,cADsB;AAEtB;AACA;AACAC,IAAAA,2BAA2B,EAAEA,2BAA2B,GAAG,EAAH,GAAQa;AAJ1C,GAAxB;AAMA,MAAIC,qBAAqB,GAAGC,IAAI,CAACC,SAAL,CAAeJ,eAAf,EAAgC,IAAhC,EAAsC,CAAtC,CAA5B;;AAEA,MAAIZ,2BAAJ,EAAiC;AAC/Bc,IAAAA,qBAAqB,GAAGA,qBAAqB,CAACG,OAAtB,CAA+B,mCAA/B,EAAoE,kCAAD,GAAsC,GAAEjB,2BAA2B,CAACkB,IAA5B,CAAiC,IAAjC,CAAuC,GAAlJ,CAAxB;AACD;;AAED,MAAIC,4BAAJ;;AAEA,MAAIX,sBAAJ,EAA4B;AAC1B;AACA;AACAW,IAAAA,4BAA4B,GAAGX,sBAAsB,KAAK,IAA3B,GAAkC;AACjE,QAD+B,GACxB;AACP;AACAf,IAAAA,wBAAwB,CAACe,sBAAD,CAHxB;AAID;;AAED,MAAI;AACF,UAAMY,iBAAiB,GAAGhC,QAAQ,CAACE,UAAD,CAAR,CAAqB;AAC7CM,MAAAA,OAD6C;AAE7CC,MAAAA,qBAF6C;AAG7CC,MAAAA,YAH6C;AAI7CG,MAAAA,aAJ6C;AAK7CC,MAAAA,eAL6C;AAM7CC,MAAAA,gBAN6C;AAO7CC,MAAAA,gBAP6C;AAQ7CC,MAAAA,yBAR6C;AAS7CC,MAAAA,yBAT6C;AAU7CC,MAAAA,iBAV6C;AAW7CY,MAAAA,4BAX6C;AAY7CL,MAAAA,qBAZ6C;AAa7CJ,MAAAA,WAb6C;AAc7CD,MAAAA,cAAc,EAAEjB,uBAAuB,CAACiB,cAAD,CAdM;AAe7CE,MAAAA;AAf6C,KAArB,CAA1B,CADE,CAiBE;;AAEJ,WAAOS,iBAAiB,CAACH,OAAlB,CAA0B,SAA1B,EAAqC,MAArC,EAA6CI,IAA7C,KAAsD,IAA7D;AACD,GApBD,CAoBE,OAAOC,KAAP,EAAc;AACd,UAAM,IAAIC,KAAJ,CAAW,GAAEhC,MAAM,CAAC,2BAAD,CAA8B,KAAI+B,KAAK,CAACE,OAAQ,GAAnE,CAAN;AACD;AACF,CAjED","sourcesContent":["\"use strict\";\n\n/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nconst template = require('lodash.template');\n\nconst swTemplate = require('../templates/sw-template');\n\nconst errors = require('./errors');\n\nconst runtimeCachingConverter = require('./runtime-caching-converter');\n\nconst stringifyWithoutComments = require('./stringify-without-comments');\n\nmodule.exports = ({\n  cacheId,\n  cleanupOutdatedCaches,\n  clientsClaim,\n  directoryIndex,\n  ignoreURLParametersMatching,\n  importScripts,\n  manifestEntries,\n  modulePathPrefix,\n  navigateFallback,\n  navigateFallbackBlacklist,\n  navigateFallbackWhitelist,\n  navigationPreload,\n  offlineGoogleAnalytics,\n  runtimeCaching,\n  skipWaiting,\n  workboxSWImport\n}) => {\n  // These are all options that can be passed to the precacheAndRoute() method.\n  const precacheOptions = {\n    directoryIndex,\n    // An array of RegExp objects can't be serialized by JSON.stringify()'s\n    // default behavior, so if it's given, convert it manually.\n    ignoreURLParametersMatching: ignoreURLParametersMatching ? [] : undefined\n  };\n  let precacheOptionsString = JSON.stringify(precacheOptions, null, 2);\n\n  if (ignoreURLParametersMatching) {\n    precacheOptionsString = precacheOptionsString.replace(`\"ignoreURLParametersMatching\": []`, `\"ignoreURLParametersMatching\": [` + `${ignoreURLParametersMatching.join(', ')}]`);\n  }\n\n  let offlineAnalyticsConfigString;\n\n  if (offlineGoogleAnalytics) {\n    // If offlineGoogleAnalytics is a truthy value, we need to convert it to the\n    // format expected by the template.\n    offlineAnalyticsConfigString = offlineGoogleAnalytics === true ? // If it's the literal value true, then use an empty config string.\n    '{}' : // Otherwise, convert the config object into a more complex string, taking\n    // into account the fact that functions might need to be stringified.\n    stringifyWithoutComments(offlineGoogleAnalytics);\n  }\n\n  try {\n    const populatedTemplate = template(swTemplate)({\n      cacheId,\n      cleanupOutdatedCaches,\n      clientsClaim,\n      importScripts,\n      manifestEntries,\n      modulePathPrefix,\n      navigateFallback,\n      navigateFallbackBlacklist,\n      navigateFallbackWhitelist,\n      navigationPreload,\n      offlineAnalyticsConfigString,\n      precacheOptionsString,\n      skipWaiting,\n      runtimeCaching: runtimeCachingConverter(runtimeCaching),\n      workboxSWImport\n    }); // Clean up multiple blank lines.\n\n    return populatedTemplate.replace(/\\n{3,}/g, '\\n\\n').trim() + '\\n';\n  } catch (error) {\n    throw new Error(`${errors['populating-sw-tmpl-failed']} '${error.message}'`);\n  }\n};"]},"metadata":{},"sourceType":"script"}