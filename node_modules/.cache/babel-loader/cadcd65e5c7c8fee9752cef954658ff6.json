{"ast":null,"code":"'use strict';\n\nconst fs = require('graceful-fs');\n\nconst path = require('path');\n\nconst copyFileSync = require('./copy-file-sync');\n\nconst mkdir = require('../mkdirs');\n\nfunction copySync(src, dest, options) {\n  if (typeof options === 'function' || options instanceof RegExp) {\n    options = {\n      filter: options\n    };\n  }\n\n  options = options || {};\n  options.recursive = !!options.recursive; // default to true for now\n\n  options.clobber = 'clobber' in options ? !!options.clobber : true; // overwrite falls back to clobber\n\n  options.overwrite = 'overwrite' in options ? !!options.overwrite : options.clobber;\n  options.dereference = 'dereference' in options ? !!options.dereference : false;\n  options.preserveTimestamps = 'preserveTimestamps' in options ? !!options.preserveTimestamps : false;\n\n  options.filter = options.filter || function () {\n    return true;\n  }; // Warn about using preserveTimestamps on 32-bit node:\n\n\n  if (options.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`);\n  }\n\n  const stats = options.recursive && !options.dereference ? fs.lstatSync(src) : fs.statSync(src);\n  const destFolder = path.dirname(dest);\n  const destFolderExists = fs.existsSync(destFolder);\n  let performCopy = false;\n\n  if (options.filter instanceof RegExp) {\n    console.warn('Warning: fs-extra: Passing a RegExp filter is deprecated, use a function');\n    performCopy = options.filter.test(src);\n  } else if (typeof options.filter === 'function') performCopy = options.filter(src, dest);\n\n  if (stats.isFile() && performCopy) {\n    if (!destFolderExists) mkdir.mkdirsSync(destFolder);\n    copyFileSync(src, dest, {\n      overwrite: options.overwrite,\n      errorOnExist: options.errorOnExist,\n      preserveTimestamps: options.preserveTimestamps\n    });\n  } else if (stats.isDirectory() && performCopy) {\n    if (!fs.existsSync(dest)) mkdir.mkdirsSync(dest);\n    const contents = fs.readdirSync(src);\n    contents.forEach(content => {\n      const opts = options;\n      opts.recursive = true;\n      copySync(path.join(src, content), path.join(dest, content), opts);\n    });\n  } else if (options.recursive && stats.isSymbolicLink() && performCopy) {\n    const srcPath = fs.readlinkSync(src);\n    fs.symlinkSync(srcPath, dest);\n  }\n}\n\nmodule.exports = copySync;","map":{"version":3,"sources":["/home/agatha/open/node_modules/workbox-build/node_modules/fs-extra/lib/copy-sync/copy-sync.js"],"names":["fs","require","path","copyFileSync","mkdir","copySync","src","dest","options","RegExp","filter","recursive","clobber","overwrite","dereference","preserveTimestamps","process","arch","console","warn","stats","lstatSync","statSync","destFolder","dirname","destFolderExists","existsSync","performCopy","test","isFile","mkdirsSync","errorOnExist","isDirectory","contents","readdirSync","forEach","content","opts","join","isSymbolicLink","srcPath","readlinkSync","symlinkSync","module","exports"],"mappings":"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","sourcesContent":["'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copyFileSync = require('./copy-file-sync')\nconst mkdir = require('../mkdirs')\n\nfunction copySync (src, dest, options) {\n  if (typeof options === 'function' || options instanceof RegExp) {\n    options = {filter: options}\n  }\n\n  options = options || {}\n  options.recursive = !!options.recursive\n\n  // default to true for now\n  options.clobber = 'clobber' in options ? !!options.clobber : true\n  // overwrite falls back to clobber\n  options.overwrite = 'overwrite' in options ? !!options.overwrite : options.clobber\n  options.dereference = 'dereference' in options ? !!options.dereference : false\n  options.preserveTimestamps = 'preserveTimestamps' in options ? !!options.preserveTimestamps : false\n\n  options.filter = options.filter || function () { return true }\n\n  // Warn about using preserveTimestamps on 32-bit node:\n  if (options.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  const stats = (options.recursive && !options.dereference) ? fs.lstatSync(src) : fs.statSync(src)\n  const destFolder = path.dirname(dest)\n  const destFolderExists = fs.existsSync(destFolder)\n  let performCopy = false\n\n  if (options.filter instanceof RegExp) {\n    console.warn('Warning: fs-extra: Passing a RegExp filter is deprecated, use a function')\n    performCopy = options.filter.test(src)\n  } else if (typeof options.filter === 'function') performCopy = options.filter(src, dest)\n\n  if (stats.isFile() && performCopy) {\n    if (!destFolderExists) mkdir.mkdirsSync(destFolder)\n    copyFileSync(src, dest, {\n      overwrite: options.overwrite,\n      errorOnExist: options.errorOnExist,\n      preserveTimestamps: options.preserveTimestamps\n    })\n  } else if (stats.isDirectory() && performCopy) {\n    if (!fs.existsSync(dest)) mkdir.mkdirsSync(dest)\n    const contents = fs.readdirSync(src)\n    contents.forEach(content => {\n      const opts = options\n      opts.recursive = true\n      copySync(path.join(src, content), path.join(dest, content), opts)\n    })\n  } else if (options.recursive && stats.isSymbolicLink() && performCopy) {\n    const srcPath = fs.readlinkSync(src)\n    fs.symlinkSync(srcPath, dest)\n  }\n}\n\nmodule.exports = copySync\n"]},"metadata":{},"sourceType":"script"}